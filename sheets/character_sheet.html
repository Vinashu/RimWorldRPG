<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RimWorld RPG - Character Sheet</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/data-loader.js"></script>
    <script src="js/character_sheet.js"></script>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <div class="panel header-section">
            <div class="avatar-placeholder">?</div>
            <div style="flex-grow: 1;">
                <div style="display: flex; gap: 10px;">
                    <div style="flex: 2;">
                        <label>Name</label>
                        <input type="text" placeholder="Viper">
                    </div>
                    <div style="flex: 1;">
                        <label>Career</label>
                        <input type="text" placeholder="Space Marine">
                    </div>
                    <div style="flex: 1;">
                        <label>Level</label>
                        <input type="number" value="1">
                    </div>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 5px;">
                    <div style="flex: 1;">
                        <label>Title</label>
                        <input type="text" placeholder="Sergeant">
                    </div>
                    <div style="flex: 2;">
                        <label>Concept/Traits</label>
                        <input type="text" placeholder="Tough, Trigger-Happy">
                    </div>
                </div>
            </div>
        </div>

        <!-- Vitals -->
        <div class="panel vitals-section">
            <div class="vital-box">
                <label>Hit Points</label>
                <div class="vital-value"><span id="current-hp">19</span> / <span id="max-hp">19</span></div>
                <div class="bar-container">
                    <div class="bar-fill" id="hp-bar" style="width: 100%; background: var(--success);"></div>
                </div>
                <span style="font-size: 0.7em; color: #888;">15 + (Vigor Ã— 2)</span>
            </div>
            <div class="vital-box">
                <label>Stress</label>
                <div class="vital-value"><span id="current-stress">0</span></div>
                <div class="bar-container">
                    <div class="bar-fill" id="stress-bar" style="width: 0%; background: var(--warning);"></div>
                </div>
                <span style="font-size: 0.7em; color: #888;">Panic at high stress</span>
            </div>
            <div class="vital-box">
                <label>Inspiration</label>
                <div class="vital-value"><input type="number" id="inspiration" value="0" min="0"
                        style="width: 50px; text-align: center;"></div>
                <span style="font-size: 0.7em; color: #888;">Spend for rerolls/edges</span>
            </div>
            <div class="vital-box">
                <label>Action Points</label>
                <div class="vital-value">4</div>
                <span style="font-size: 0.7em; color: #888;">Per combat turn</span>
            </div>
        </div>

        <!-- Attributes -->
        <div class="panel attributes-section">
            <h2>Attributes</h2>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <label style="font-size: 1.2em; color: var(--accent-color);">VIGOR</label>
                <input type="number" id="attr-vigor" value="2" min="-1" max="3"
                    style="width: 50px; text-align: center; font-size: 1.2em;" onchange="updateHP()">
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <label style="font-size: 1.2em; color: var(--accent-color);">DEXTERITY</label>
                <input type="number" id="attr-dex" value="1" min="-1" max="3"
                    style="width: 50px; text-align: center; font-size: 1.2em;">
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <label style="font-size: 1.2em; color: var(--accent-color);">MIND</label>
                <input type="number" id="attr-mind" value="0" min="-1" max="3"
                    style="width: 50px; text-align: center; font-size: 1.2em;">
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <label style="font-size: 1.2em; color: var(--accent-color);">SPIRIT</label>
                <input type="number" id="attr-spirit" value="-1" min="-1" max="3"
                    style="width: 50px; text-align: center; font-size: 1.2em;">
            </div>
            <div
                style="margin-top: 10px; padding: 10px; background: rgba(100,100,100,0.2); border-radius: 5px; font-size: 0.85em; color: #aaa;">
                Standard array: +2, +1, 0, -1
            </div>
        </div>

        <!-- Skills -->
        <div class="panel skills-section">
            <!-- <div
                style="margin-top: 10px; padding: 10px; background: rgba(100,100,100,0.2); border-radius: 5px; font-size: 0.85em; color: #aaa;">
                <h2>Skills <span style="font-size: 0.7em; color: #888;">(Points / Modifier)</span></h2>
                Modifier = Floor(Points / 10). Max 30 points per skill.
            </div> -->
            <div>
                <h3>Vigor Skills</h3>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Melee</label>
                    <input type="number" class="skill-points" value="20" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+2</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Construction</label>
                    <input type="number" class="skill-points" value="0" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+0</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Mining</label>
                    <input type="number" class="skill-points" value="0" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+0</span>
                </div>
            </div>
            <div>
                <h3>Dexterity Skills</h3>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Shooting</label>
                    <input type="number" class="skill-points" value="30" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+3</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Crafting</label>
                    <input type="number" class="skill-points" value="0" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+0</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Cooking</label>
                    <input type="number" class="skill-points" value="10" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+1</span>
                </div>
            </div>
            <div>
                <h3>Mind Skills</h3>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Medical</label>
                    <input type="number" class="skill-points" value="10" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+1</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Intellectual</label>
                    <input type="number" class="skill-points" value="0" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+0</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Plants</label>
                    <input type="number" class="skill-points" value="0" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+0</span>
                </div>
            </div>
            <div>
                <h3>Spirit Skills</h3>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Social</label>
                    <input type="number" class="skill-points" value="0" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+0</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Animals</label>
                    <input type="number" class="skill-points" value="20" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+2</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label style="margin-right: auto;">Artistic</label>
                    <input type="number" class="skill-points" value="0" min="0" max="30"
                        style="width: 50px; margin-right: 5px;" onchange="updateSkillMod(this)">
                    <span class="skill-mod"
                        style="width: 40px; text-align: center; font-weight: bold; color: var(--accent-color);">+0</span>
                </div>
            </div>
        </div>


        <!-- Gear -->
        <div class="panel gear-section">
            <h2>Combat Loadout</h2>

            <!-- Primary Weapon -->
            <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #444;">
                <label for="weapon-select">Primary Weapon</label>
                <select id="weapon-select" style="margin-bottom: 10px;" onchange="updateWeaponStats()">
                    <option value="">-- Select Weapon --</option>
                </select>

                <div id="weapon-stats"
                    style="display: none; padding: 10px; background: rgba(100,100,100,0.2); border-radius: 5px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 5px; font-size: 0.9em;">
                        <div><strong>Damage:</strong> <span id="weapon-damage">-</span></div>
                        <div><strong>AP Cost:</strong> <span id="weapon-ap">-</span></div>
                        <div><strong>Range:</strong> <span id="weapon-band">-</span></div>
                        <div><strong>Value:</strong> <span id="weapon-value">-</span> silver</div>
                    </div>
                    <div style="margin-top: 5px; padding-top: 5px; border-top: 1px solid #555;">
                        <div style="font-size: 0.85em;"><strong>Tech:</strong> <span id="weapon-tech">-</span></div>
                        <div style="font-size: 0.85em;"><strong>Materials:</strong> <span id="weapon-materials">-</span>
                        </div>
                    </div>
                    <div id="weapon-notes" style="margin-top: 5px; font-size: 0.85em; color: #aaa;"></div>
                </div>
            </div>

            <!-- Armor/Apparel -->
            <div style="margin-bottom: 15px;">
                <label for="armor-select">Armor/Apparel</label>
                <select id="armor-select" style="margin-bottom: 10px;" onchange="updateArmorStats()">
                    <option value="">-- Select Armor --</option>
                </select>

                <div id="armor-stats"
                    style="display: none; padding: 10px; background: rgba(100,100,100,0.2); border-radius: 5px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 5px; font-size: 0.9em;">
                        <div><strong>Armor Rating:</strong> <span id="armor-rating">-</span></div>
                        <div><strong>Speed Penalty:</strong> <span id="armor-speed">-</span></div>
                        <div><strong>Coverage:</strong> <span id="armor-coverage">-</span></div>
                        <div><strong>Value:</strong> <span id="armor-value">-</span> silver</div>
                    </div>
                    <div style="margin-top: 5px; padding-top: 5px; border-top: 1px solid #555;">
                        <div style="font-size: 0.85em;"><strong>Tech:</strong> <span id="armor-tech">-</span></div>
                        <div style="font-size: 0.85em;"><strong>Materials:</strong> <span id="armor-materials">-</span>
                        </div>
                    </div>
                    <div id="armor-bonus" style="margin-top: 5px; font-size: 0.85em; color: var(--success);"></div>
                    <div id="armor-notes" style="margin-top: 5px; font-size: 0.85em; color: #aaa;"></div>
                </div>
            </div>

            <h3>Inventory</h3>
            <textarea id="inventory" rows="4" placeholder="Enter inventory items...">20x Meals (Simple)
3x Medicine (Herbal)
1x Knife (steel)</textarea>
        </div>

        <!-- Bio / Health -->
        <div class="panel bio-section">
            <h2>Health & Bionics</h2>
            <textarea rows="4" placeholder="List injuries or bionics here...">Missing Left Eye (Bane to Shooting)
Scar on Chest (Painful)</textarea>

            <h2>Backstory</h2>
            <label>Childhood</label>
            <input type="text" value="Urchin">
            <label>Adulthood</label>
            <input type="text" value="Soldier">
            <label>Major Event</label>
            <input type="text" value="War Hero (Lost Eye)">
        </div>

    </div>
</body>

</html>